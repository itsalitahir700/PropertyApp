{"ast":null,"code":"import _Button from \"antd/lib/button\";\nvar _jsxFileName = \"C:\\\\wamp64\\\\www\\\\Reactapps\\\\my-app\\\\Apnaghar-frontend\\\\TripFinder\\\\packages\\\\hotel-next\\\\container\\\\Home\\\\Search\\\\SearchForm.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useContext } from 'react';\nimport Router, { withRouter } from 'next/router';\nimport isEmpty from 'lodash/isEmpty';\nimport { FaMapMarkerAlt, FaRegCalendar, FaUserFriends } from 'react-icons/fa';\nimport MapAutoComplete from 'components/Map/MapAutoComplete';\nimport InputIncDec from 'components/UI/InputIncDec/InputIncDec';\nimport DateRangePickerBox from 'components/UI/DatePicker/ReactDates';\nimport { mapDataHelper } from 'components/Map/mapDataHelper';\nimport ViewWithPopup from 'components/UI/ViewWithPopup/ViewWithPopup';\nimport { FormWrapper, ComponentWrapper, RoomGuestWrapper, ItemWrapper } from './Search.style';\nimport { LISTING_POSTS_PAGE } from '../../../settings/constant';\nimport { SearchContext } from '../../../context/SearchProvider';\nconst calendarItem = {\n  separator: '-',\n  format: 'MM-DD-YYYY',\n  locale: 'en'\n};\n\nconst SearchForm = () => {\n  const {\n    state,\n    dispatch\n  } = useContext(SearchContext);\n  const {\n    0: searchDate,\n    1: setSearchDate\n  } = useState({\n    setStartDate: null,\n    setEndDate: null\n  });\n  const {\n    0: mapValue,\n    1: setMapValue\n  } = useState([]);\n  const {\n    0: roomGuest,\n    1: setRoomGuest\n  } = useState({\n    room: 0,\n    guest: 0\n  });\n\n  const updatevalueFunc = event => {\n    const {\n      searchedPlaceAPIData\n    } = event;\n\n    if (!isEmpty(searchedPlaceAPIData)) {\n      setMapValue(searchedPlaceAPIData);\n    }\n  };\n\n  const handleIncrement = type => {\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, {\n      [type]: roomGuest[type] + 1\n    }));\n  };\n\n  const handleDecrement = type => {\n    if (roomGuest[type] <= 0) {\n      return false;\n    }\n\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, {\n      [type]: roomGuest[type] - 1\n    }));\n  };\n\n  const handleIncDecOnChnage = (e, type) => {\n    let currentValue = e.target.value;\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, {\n      [type]: currentValue\n    }));\n  };\n\n  const goToSearchPage = () => {\n    let tempLocation = [],\n        dateRange = {},\n        location_lat = '',\n        location_lng = '';\n    const mapData = mapValue ? mapDataHelper(mapValue) : [];\n    mapData && mapData.map((singleMapData, i) => {\n      return tempLocation.push({\n        formattedAddress: singleMapData ? singleMapData.formattedAddress : '',\n        lat: singleMapData ? singleMapData.lat.toFixed(3) : null,\n        lng: singleMapData ? singleMapData.lng.toFixed(3) : null\n      });\n    });\n    const location = tempLocation ? tempLocation[0] : {};\n    dateRange.startDate = searchDate ? searchDate.setStartDate : null;\n    dateRange.endDate = searchDate ? searchDate.setEndDate : null;\n\n    if (location && location.lat) {\n      location_lat = location.lat;\n    }\n\n    if (location && location.lng) {\n      location_lng = location.lng;\n    }\n\n    let query = {\n      setStartDate: searchDate.setStartDate,\n      setEndDate: searchDate.setEndDate,\n      room: roomGuest.room,\n      guest: roomGuest.guest,\n      location_lat,\n      location_lng\n    };\n\n    for (const key in query) {\n      if (query[key] === '' || query[key] === null || query[key] === 0) {\n        delete query[key];\n      }\n    }\n\n    dispatch({\n      type: 'UPDATE',\n      payload: _objectSpread(_objectSpread({}, state), {}, {\n        setStartDate: searchDate.setStartDate,\n        setEndDate: searchDate.setEndDate,\n        room: roomGuest.room,\n        guest: roomGuest.guest,\n        location_lat,\n        location_lng\n      })\n    });\n    Router.push({\n      pathname: `${LISTING_POSTS_PAGE}`,\n      query: query\n    }, {\n      pathname: `${LISTING_POSTS_PAGE}`,\n      query: query\n    }, {\n      shallow: true\n    });\n  };\n\n  return __jsx(FormWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, __jsx(ComponentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, __jsx(FaMapMarkerAlt, {\n    className: \"map-marker\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }), __jsx(MapAutoComplete, {\n    updatevalue: value => updatevalueFunc(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }), __jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 144.083 144\",\n    enableBackground: \"new 0 0 144.083 144\",\n    className: \"target\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, __jsx(\"path\", {\n    d: \"M117.292,69h-13.587C102.28,53.851,90.19,41.761,75.042,40.337V26.5h-6v13.837C53.893,41.761,41.802,53.851,40.378,69  H26.792v6h13.587c1.425,15.148,13.515,27.238,28.663,28.663V117.5h6v-13.837C90.19,102.238,102.28,90.148,103.705,75h13.587V69z   M72.042,97.809c-14.23,0-25.809-11.578-25.809-25.809c0-14.231,11.578-25.809,25.809-25.809S97.85,57.769,97.85,72  C97.85,86.23,86.272,97.809,72.042,97.809z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }), __jsx(\"path\", {\n    d: \"M72.042,52.541c-10.729,0-19.459,8.729-19.459,19.459s8.729,19.459,19.459,19.459S91.5,82.729,91.5,72  S82.771,52.541,72.042,52.541z M72.042,85.459c-7.421,0-13.459-6.037-13.459-13.459c0-7.421,6.038-13.459,13.459-13.459  S85.5,64.579,85.5,72C85.5,79.422,79.462,85.459,72.042,85.459z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }))), __jsx(ComponentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, __jsx(FaRegCalendar, {\n    className: \"calendar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }), __jsx(DateRangePickerBox, {\n    item: calendarItem,\n    startDateId: \"startDateId-id-home\",\n    endDateId: \"endDateId-id-home\",\n    updateSearchData: setDateValue => setSearchDate(setDateValue),\n    showClearDates: true,\n    small: true,\n    numberOfMonths: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  })), __jsx(ComponentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, __jsx(FaUserFriends, {\n    className: \"user-friends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), __jsx(ViewWithPopup, {\n    key: 200,\n    noView: true,\n    className: \"room_guest\",\n    view: __jsx(_Button, {\n      type: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    }, \"Room \", roomGuest.room > 0 && `: ${roomGuest.room}`), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, \"-\"), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, \"Guest\", roomGuest.guest > 0 && `: ${roomGuest.guest}`)),\n    popup: __jsx(RoomGuestWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, __jsx(ItemWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, __jsx(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, \"Room\"), __jsx(InputIncDec, {\n      id: \"room\",\n      increment: () => handleIncrement('room'),\n      decrement: () => handleDecrement('room'),\n      onChange: e => handleIncDecOnChnage(e, 'room'),\n      value: roomGuest.room,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    })), __jsx(ItemWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, __jsx(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, \"Guest\"), __jsx(InputIncDec, {\n      id: \"guest\",\n      increment: () => handleIncrement('guest'),\n      decrement: () => handleDecrement('guest'),\n      onChange: e => handleIncDecOnChnage(e, 'guest'),\n      value: roomGuest.guest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  })), __jsx(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    size: \"large\",\n    onClick: goToSearchPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, \"Find Hotels\"));\n};\n\nexport default withRouter(SearchForm);","map":{"version":3,"sources":["C:/wamp64/www/Reactapps/my-app/Apnaghar-frontend/TripFinder/packages/hotel-next/container/Home/Search/SearchForm.js"],"names":["React","useState","useContext","Router","withRouter","isEmpty","FaMapMarkerAlt","FaRegCalendar","FaUserFriends","MapAutoComplete","InputIncDec","DateRangePickerBox","mapDataHelper","ViewWithPopup","FormWrapper","ComponentWrapper","RoomGuestWrapper","ItemWrapper","LISTING_POSTS_PAGE","SearchContext","calendarItem","separator","format","locale","SearchForm","state","dispatch","searchDate","setSearchDate","setStartDate","setEndDate","mapValue","setMapValue","roomGuest","setRoomGuest","room","guest","updatevalueFunc","event","searchedPlaceAPIData","handleIncrement","type","handleDecrement","handleIncDecOnChnage","e","currentValue","target","value","goToSearchPage","tempLocation","dateRange","location_lat","location_lng","mapData","map","singleMapData","i","push","formattedAddress","lat","toFixed","lng","location","startDate","endDate","query","key","payload","pathname","shallow","setDateValue"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport Router, { withRouter } from 'next/router';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport { FaMapMarkerAlt, FaRegCalendar, FaUserFriends } from 'react-icons/fa';\r\nimport { Button } from 'antd';\r\nimport MapAutoComplete from 'components/Map/MapAutoComplete';\r\nimport InputIncDec from 'components/UI/InputIncDec/InputIncDec';\r\nimport DateRangePickerBox from 'components/UI/DatePicker/ReactDates';\r\nimport { mapDataHelper } from 'components/Map/mapDataHelper';\r\nimport ViewWithPopup from 'components/UI/ViewWithPopup/ViewWithPopup';\r\nimport {\r\n  FormWrapper,\r\n  ComponentWrapper,\r\n  RoomGuestWrapper,\r\n  ItemWrapper,\r\n} from './Search.style';\r\nimport { LISTING_POSTS_PAGE } from '../../../settings/constant';\r\nimport { SearchContext } from '../../../context/SearchProvider';\r\n\r\nconst calendarItem = {\r\n  separator: '-',\r\n  format: 'MM-DD-YYYY',\r\n  locale: 'en',\r\n};\r\n\r\nconst SearchForm = () => {\r\n  const { state, dispatch } = useContext(SearchContext);\r\n  const [searchDate, setSearchDate] = useState({\r\n    setStartDate: null,\r\n    setEndDate: null,\r\n  });\r\n  const [mapValue, setMapValue] = useState([]);\r\n  const [roomGuest, setRoomGuest] = useState({\r\n    room: 0,\r\n    guest: 0,\r\n  });\r\n\r\n  const updatevalueFunc = (event) => {\r\n    const { searchedPlaceAPIData } = event;\r\n    if (!isEmpty(searchedPlaceAPIData)) {\r\n      setMapValue(searchedPlaceAPIData);\r\n    }\r\n  };\r\n\r\n  const handleIncrement = (type) => {\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: roomGuest[type] + 1,\r\n    });\r\n  };\r\n\r\n  const handleDecrement = (type) => {\r\n    if (roomGuest[type] <= 0) {\r\n      return false;\r\n    }\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: roomGuest[type] - 1,\r\n    });\r\n  };\r\n\r\n  const handleIncDecOnChnage = (e, type) => {\r\n    let currentValue = e.target.value;\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: currentValue,\r\n    });\r\n  };\r\n\r\n  const goToSearchPage = () => {\r\n    let tempLocation = [],\r\n      dateRange = {},\r\n      location_lat = '',\r\n      location_lng = '';\r\n    const mapData = mapValue ? mapDataHelper(mapValue) : [];\r\n    mapData &&\r\n      mapData.map((singleMapData, i) => {\r\n        return tempLocation.push({\r\n          formattedAddress: singleMapData ? singleMapData.formattedAddress : '',\r\n          lat: singleMapData ? singleMapData.lat.toFixed(3) : null,\r\n          lng: singleMapData ? singleMapData.lng.toFixed(3) : null,\r\n        });\r\n      });\r\n    const location = tempLocation ? tempLocation[0] : {};\r\n    dateRange.startDate = searchDate ? searchDate.setStartDate : null;\r\n    dateRange.endDate = searchDate ? searchDate.setEndDate : null;\r\n\r\n    if (location && location.lat) {\r\n      location_lat = location.lat;\r\n    }\r\n\r\n    if (location && location.lng) {\r\n      location_lng = location.lng;\r\n    }\r\n\r\n    let query = {\r\n      setStartDate: searchDate.setStartDate,\r\n      setEndDate: searchDate.setEndDate,\r\n      room: roomGuest.room,\r\n      guest: roomGuest.guest,\r\n      location_lat,\r\n      location_lng,\r\n    };\r\n\r\n    for (const key in query) {\r\n      if (query[key] === '' || query[key] === null || query[key] === 0) {\r\n        delete query[key];\r\n      }\r\n    }\r\n\r\n    dispatch({\r\n      type: 'UPDATE',\r\n      payload: {\r\n        ...state,\r\n        setStartDate: searchDate.setStartDate,\r\n        setEndDate: searchDate.setEndDate,\r\n        room: roomGuest.room,\r\n        guest: roomGuest.guest,\r\n        location_lat,\r\n        location_lng,\r\n      },\r\n    });\r\n\r\n    Router.push(\r\n      {\r\n        pathname: `${LISTING_POSTS_PAGE}`,\r\n        query: query,\r\n      },\r\n      {\r\n        pathname: `${LISTING_POSTS_PAGE}`,\r\n        query: query,\r\n      },\r\n      { shallow: true }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <FormWrapper>\r\n      <ComponentWrapper>\r\n        <FaMapMarkerAlt className=\"map-marker\" />\r\n        <MapAutoComplete updatevalue={(value) => updatevalueFunc(value)} />\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          version=\"1.1\"\r\n          x=\"0px\"\r\n          y=\"0px\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          viewBox=\"0 0 144.083 144\"\r\n          enableBackground=\"new 0 0 144.083 144\"\r\n          className=\"target\"\r\n        >\r\n          <path d=\"M117.292,69h-13.587C102.28,53.851,90.19,41.761,75.042,40.337V26.5h-6v13.837C53.893,41.761,41.802,53.851,40.378,69  H26.792v6h13.587c1.425,15.148,13.515,27.238,28.663,28.663V117.5h6v-13.837C90.19,102.238,102.28,90.148,103.705,75h13.587V69z   M72.042,97.809c-14.23,0-25.809-11.578-25.809-25.809c0-14.231,11.578-25.809,25.809-25.809S97.85,57.769,97.85,72  C97.85,86.23,86.272,97.809,72.042,97.809z\" />\r\n          <path d=\"M72.042,52.541c-10.729,0-19.459,8.729-19.459,19.459s8.729,19.459,19.459,19.459S91.5,82.729,91.5,72  S82.771,52.541,72.042,52.541z M72.042,85.459c-7.421,0-13.459-6.037-13.459-13.459c0-7.421,6.038-13.459,13.459-13.459  S85.5,64.579,85.5,72C85.5,79.422,79.462,85.459,72.042,85.459z\" />\r\n        </svg>\r\n      </ComponentWrapper>\r\n\r\n      <ComponentWrapper>\r\n        <FaRegCalendar className=\"calendar\" />\r\n        <DateRangePickerBox\r\n          item={calendarItem}\r\n          startDateId=\"startDateId-id-home\"\r\n          endDateId=\"endDateId-id-home\"\r\n          updateSearchData={(setDateValue) => setSearchDate(setDateValue)}\r\n          showClearDates={true}\r\n          small={true}\r\n          numberOfMonths={1}\r\n        />\r\n      </ComponentWrapper>\r\n\r\n      <ComponentWrapper>\r\n        <FaUserFriends className=\"user-friends\" />\r\n        <ViewWithPopup\r\n          key={200}\r\n          noView={true}\r\n          className=\"room_guest\"\r\n          view={\r\n            <Button type=\"default\">\r\n              <span>Room {roomGuest.room > 0 && `: ${roomGuest.room}`}</span>\r\n              <span>-</span>\r\n              <span>Guest{roomGuest.guest > 0 && `: ${roomGuest.guest}`}</span>\r\n            </Button>\r\n          }\r\n          popup={\r\n            <RoomGuestWrapper>\r\n              <ItemWrapper>\r\n                <strong>Room</strong>\r\n                <InputIncDec\r\n                  id=\"room\"\r\n                  increment={() => handleIncrement('room')}\r\n                  decrement={() => handleDecrement('room')}\r\n                  onChange={(e) => handleIncDecOnChnage(e, 'room')}\r\n                  value={roomGuest.room}\r\n                />\r\n              </ItemWrapper>\r\n              <ItemWrapper>\r\n                <strong>Guest</strong>\r\n                <InputIncDec\r\n                  id=\"guest\"\r\n                  increment={() => handleIncrement('guest')}\r\n                  decrement={() => handleDecrement('guest')}\r\n                  onChange={(e) => handleIncDecOnChnage(e, 'guest')}\r\n                  value={roomGuest.guest}\r\n                />\r\n              </ItemWrapper>\r\n            </RoomGuestWrapper>\r\n          }\r\n        />\r\n      </ComponentWrapper>\r\n\r\n      <Button\r\n        type=\"primary\"\r\n        htmlType=\"submit\"\r\n        size=\"large\"\r\n        onClick={goToSearchPage}\r\n      >\r\n        Find Hotels\r\n      </Button>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(SearchForm);\r\n"]},"metadata":{},"sourceType":"module"}