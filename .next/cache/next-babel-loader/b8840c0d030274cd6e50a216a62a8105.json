{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _Card from \"antd/lib/card\";\nimport _Button from \"antd/lib/button\";\nimport _Row from \"antd/lib/row\";\nimport _Col from \"antd/lib/col\";\nimport _Select from \"antd/lib/select\";\nimport _Form from \"antd/lib/form\";\nimport _Radio from \"antd/lib/radio\";\nimport _Alert from \"antd/lib/alert\";\nimport _Input from \"antd/lib/input\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _message from \"antd/lib/message\";\nimport _Upload from \"antd/lib/upload\";\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { padding } from \"styled-system\";\nimport axios from \"axios\";\nimport { getPropType, getPropSubType, getCountries, getCities, getLocations, getCurrency, getArea } from \"../../settings/service\";\n\nvar AddProperty = function AddProperty(_ref) {\n  var handleReturn = _ref.handleReturn;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setloading = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      imageUrl = _useState2[0],\n      setimageUrl = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      purpose = _useState3[0],\n      setpurpose = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      country = _useState4[0],\n      setCountry = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      city = _useState5[0],\n      setCity = _useState5[1];\n\n  var _useState6 = useState(\"\"),\n      location = _useState6[0],\n      setLocation = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      title = _useState7[0],\n      setTitle = _useState7[1];\n\n  var _useState8 = useState(\"\"),\n      details = _useState8[0],\n      setDetails = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      price = _useState9[0],\n      setPrice = _useState9[1];\n\n  var _useState10 = useState(\"\"),\n      pricecurrency = _useState10[0],\n      setCurrency = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      localArea = _useState11[0],\n      setLocalArea = _useState11[1];\n\n  var _useState12 = useState(\"\"),\n      areaUnit = _useState12[0],\n      setareaUnit = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      bedrooms = _useState13[0],\n      setBedrooms = _useState13[1];\n\n  var _useState14 = useState(\"\"),\n      bathrooms = _useState14[0],\n      setBathrooms = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      expireAfter = _useState15[0],\n      setExpireAfter = _useState15[1];\n\n  var _useState16 = useState(\"\"),\n      phone = _useState16[0],\n      setPhone = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      email = _useState17[0],\n      setEmail = _useState17[1];\n\n  var _useState18 = useState([]),\n      files = _useState18[0],\n      setFiles = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      propdeveloper = _useState19[0],\n      setPropdeveloper = _useState19[1];\n\n  var _useState20 = useState(\"\"),\n      constructionStatus = _useState20[0],\n      setConstructionStatus = _useState20[1]; // API RESULTS\n\n\n  var _useState21 = useState([]),\n      proptypedata = _useState21[0],\n      setproptypedata = _useState21[1];\n\n  var _useState22 = useState([]),\n      citieslist = _useState22[0],\n      setciteslist = _useState22[1];\n\n  var _useState23 = useState([]),\n      countrieslist = _useState23[0],\n      setcountrieslist = _useState23[1];\n\n  var _useState24 = useState([]),\n      locationslist = _useState24[0],\n      setlocationslist = _useState24[1];\n\n  var _useState25 = useState([]),\n      currencylist = _useState25[0],\n      setcurrencylist = _useState25[1];\n\n  var _useState26 = useState([]),\n      proptypevalue = _useState26[0],\n      setproptypevalue = _useState26[1];\n\n  var _useState27 = useState([]),\n      propsubtypedata = _useState27[0],\n      setpropsubtypedata = _useState27[1];\n\n  var _useState28 = useState([]),\n      propsubtypedataall = _useState28[0],\n      setpropsubtypedataall = _useState28[1];\n\n  var _useState29 = useState([]),\n      arealist = _useState29[0],\n      setarealist = _useState29[1];\n\n  var propType = \"\";\n  var propsubType = \"\";\n  var cities = \"\";\n  var counties = \"\";\n  var locations = \"\";\n  var currency = \"\";\n  var area = \"\";\n  var response = \"\";\n  var Dragger = _Upload.Dragger;\n  var props = {\n    name: \"file\",\n    multiple: true,\n    action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n\n    onChange(info) {\n      var status = info.file.status;\n\n      if (status !== \"uploading\") {\n        console.log(info.file, info.fileList);\n      }\n\n      if (status === \"done\") {\n        _message.success(\"\".concat(info.file.name, \" file uploaded successfully.\"));\n      } else if (status === \"error\") {\n        _message.error(\"\".concat(info.file.name, \" file upload failed.\"));\n      }\n    }\n\n  };\n  useEffect(function () {\n    functproptype();\n    functcities();\n    functcountries();\n    functcurrency();\n    funcpropsbtype();\n    functarea();\n  }, []);\n\n  function functproptype() {\n    return _functproptype.apply(this, arguments);\n  }\n\n  function _functproptype() {\n    _functproptype = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getPropType();\n\n            case 2:\n              propType = _context.sent;\n              setproptypedata(propType.data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _functproptype.apply(this, arguments);\n  }\n\n  function functcountries() {\n    return _functcountries.apply(this, arguments);\n  }\n\n  function _functcountries() {\n    _functcountries = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getCountries();\n\n            case 2:\n              counties = _context2.sent;\n              setcountrieslist(counties.data);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _functcountries.apply(this, arguments);\n  }\n\n  function functcities() {\n    return _functcities.apply(this, arguments);\n  }\n\n  function _functcities() {\n    _functcities = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return getCities();\n\n            case 2:\n              cities = _context3.sent;\n              setciteslist(cities.data);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _functcities.apply(this, arguments);\n  }\n\n  function functlocation(_x) {\n    return _functlocation.apply(this, arguments);\n  }\n\n  function _functlocation() {\n    _functlocation = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(cityId) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return getLocations(cityId);\n\n            case 2:\n              locations = _context4.sent;\n              setlocationslist(locations.data);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _functlocation.apply(this, arguments);\n  }\n\n  function functcurrency() {\n    return _functcurrency.apply(this, arguments);\n  }\n\n  function _functcurrency() {\n    _functcurrency = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return getCurrency();\n\n            case 2:\n              currency = _context5.sent;\n              setcurrencylist(currency.data);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _functcurrency.apply(this, arguments);\n  }\n\n  function funcpropsbtype() {\n    return _funcpropsbtype.apply(this, arguments);\n  }\n\n  function _funcpropsbtype() {\n    _funcpropsbtype = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return getPropSubType();\n\n            case 2:\n              propsubType = _context6.sent;\n              setpropsubtypedataall(propsubType.data);\n\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _funcpropsbtype.apply(this, arguments);\n  }\n\n  function functarea() {\n    return _functarea.apply(this, arguments);\n  }\n\n  function _functarea() {\n    _functarea = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return getArea();\n\n            case 2:\n              area = _context7.sent;\n              setarealist(area.data);\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _functarea.apply(this, arguments);\n  }\n\n  var handleSetProperty = function handleSetProperty(e) {\n    var main_property_cat = e.target.value;\n    setproptypevalue(e.target.value);\n    var filtered_sub_cat = propsubtypedataall.filter(function (a) {\n      return a.ptypeCat == main_property_cat;\n    });\n    setpropsubtypedata(filtered_sub_cat);\n  };\n\n  var handleimage = function handleimage(event) {\n    console.log(\"images\", event.target.files);\n    setFiles(Array.from(event.target.files));\n  };\n\n  var submitHandler = function submitHandler(e) {\n    var formData = new FormData(); //formdata object\n\n    var data = \"{  \\\"postPurpose\\\": \\\"\".concat(purpose, \"\\\", \\n    \\\"propType\\\": \").concat(proptypevalue, \",\\n    \\\"postTitle\\\": \\\"\").concat(title, \"\\\",\\n    \\\"postDescription\\\": \\\"\").concat(details, \"\\\",\\n    \\\"postLocation\\\": \\\"\").concat(location, \"\\\",\\n    \\\"postCity\\\": \").concat(city, \",\\n    \\\"postCountry\\\": \\\"\").concat(country, \"\\\", \\n    \\\"postTel\\\": \").concat(phone, \", \\n    \\\"postPrice\\\": \").concat(price, \", \\n    \\\"postPriceCurrency\\\": \\\"\").concat(pricecurrency, \"\\\", \\n    \\\"postPropArea\\\": \").concat(localArea, \",\\n    \\\"postPropAreaUnit\\\":\\\"\").concat(areaUnit, \"\\\",\\n    \\\"postConstructionStatus\\\": \\\"\").concat(constructionStatus, \"\\\",\\n    \\\"postPropDeveloper\\\": \\\"\").concat(propdeveloper, \"\\\"}\");\n    formData.append(\"newPost\", data);\n    formData.append(\"files\", files);\n\n    var _iterator = _createForOfIteratorHelper(formData.entries()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        console.log(\"yai data\", key[0] + \", \" + key[1]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    axios({\n      method: \"post\",\n      url: \"http://ec2-13-229-109-204.ap-southeast-1.compute.amazonaws.com:8080/apna/v1/posts\",\n      data: formData,\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: \"Basic YXBuYTphcG5hZ2hhcjEyMzQ=\",\n        Cookie: \"JSESSIONID=E2A8BF2571BA6B875803BD545D43BBD6\"\n      }\n    }).then(function (response) {\n      //handle success\n      response = response.data;\n      handleReturn(response);\n    }).catch(function (response) {\n      //handle error\n      console.log(response);\n    });\n  };\n\n  var TextArea = _Input.TextArea;\n  return __jsx(_Card, {\n    style: {\n      paddingLeft: \"10rem\",\n      paddingRight: \"10rem\"\n    }\n  }, __jsx(_Alert, {\n    message: \"PROPERTY TYPE AND LOCATION\",\n    type: \"success\"\n  }), __jsx(_Form, {\n    labelCol: {\n      span: 4\n    },\n    wrapperCol: {\n      span: 14\n    },\n    layout: \"horizontal\",\n    style: {\n      marginTop: \"20px\"\n    }\n  }, __jsx(_Form.Item, {\n    label: \"Purpose\"\n  }, __jsx(_Radio.Group, null, __jsx(_Radio.Button, {\n    onClick: function onClick(e) {\n      return setpurpose(e.target.value);\n    },\n    value: \"B\"\n  }, \"Buy\"), __jsx(_Radio.Button, {\n    onClick: function onClick(e) {\n      return setpurpose(e.target.value);\n    },\n    value: \"R\"\n  }, \"Rent\"), __jsx(_Radio.Button, {\n    onClick: function onClick(e) {\n      return setpurpose(e.target.value);\n    },\n    value: \"P\"\n  }, \"Project\"))), __jsx(_Form.Item, {\n    label: \"Property Type\",\n    name: \"size\"\n  }, __jsx(_Radio.Group, null, proptypedata && proptypedata.length !== 0 ? proptypedata.map(function (item) {\n    return __jsx(\"span\", {\n      key: item.code\n    }, __jsx(_Radio.Button, {\n      value: item.code,\n      onClick: handleSetProperty\n    }, item.name));\n  }) : \"No Records Found\"), __jsx(\"br\", null), __jsx(_Radio.Group, {\n    style: {\n      marginTop: \"5px\",\n      marginLeft: \"20px\"\n    }\n  }, propsubtypedata && propsubtypedata.length !== 0 ? propsubtypedata.map(function (item, index) {\n    return __jsx(\"span\", {\n      key: item.index\n    }, __jsx(_Radio.Button, {\n      value: item.ptypeName\n    }, item.ptypeName));\n  }) : \"No Records Found\")), __jsx(_Form.Item, {\n    label: \"Select country\"\n  }, __jsx(_Select, {\n    value: country,\n    onChange: function onChange(e) {\n      setCountry(e);\n    }\n  }, countrieslist && countrieslist.length !== 0 ? countrieslist.map(function (item, index) {\n    return __jsx(_Select.Option, {\n      value: item.countryCode,\n      key: item.countryCode\n    }, item.countryName);\n  }) : \"No Records Found\")), __jsx(_Form.Item, {\n    label: \"Select city\"\n  }, __jsx(_Select, {\n    value: city,\n    onChange: function onChange(e) {\n      setCity(e);\n      functlocation(e);\n    }\n  }, citieslist && citieslist.length !== 0 ? citieslist.map(function (item, index) {\n    return __jsx(_Select.Option, {\n      value: item.cityId,\n      key: item.cityId\n    }, item.cityName);\n  }) : \"No Records Found\")), __jsx(_Form.Item, {\n    label: \"Select Location\"\n  }, __jsx(_Select, {\n    value: location,\n    onChange: function onChange(e) {\n      return setLocation(e);\n    }\n  }, locationslist && locationslist.length !== 0 ? locationslist.map(function (item, index) {\n    return __jsx(_Select.Option, {\n      value: item.plName,\n      key: item.plName\n    }, item.plName);\n  }) : \"No Records Found\"))), __jsx(_Alert, {\n    message: \"PROPERTY DETAILS\",\n    type: \"success\"\n  }), __jsx(_Form, {\n    labelCol: {\n      span: 4\n    },\n    wrapperCol: {\n      span: 14\n    },\n    layout: \"horizontal\",\n    style: {\n      marginTop: \"20px\"\n    }\n  }, __jsx(_Form.Item, {\n    label: \"Property Title\"\n  }, __jsx(_Input, {\n    value: title,\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    }\n  })), __jsx(_Form.Item, {\n    label: \"Property Details\"\n  }, __jsx(TextArea, {\n    value: details,\n    onChange: function onChange(e) {\n      return setDetails(e.target.value);\n    },\n    rows: 4\n  })), __jsx(_Form.Item, {\n    label: \"Property Developer\"\n  }, __jsx(_Input, {\n    value: propdeveloper,\n    onChange: function onChange(e) {\n      return setPropdeveloper(e.target.value);\n    }\n  })), __jsx(_Form.Item, {\n    label: \"Construction Status\"\n  }, __jsx(_Select, {\n    value: constructionStatus,\n    onChange: function onChange(e) {\n      return setConstructionStatus(e);\n    }\n  }, __jsx(_Select.Option, {\n    value: \"C\"\n  }, \"Completed\"), __jsx(_Select.Option, {\n    value: \"U\"\n  }, \"UNDERCONSTRUCTION\"))), __jsx(_Row, null, __jsx(_Col, {\n    lg: 12\n  }, __jsx(_Form.Item, {\n    label: \"All inclusive Price\"\n  }, __jsx(_Input, {\n    value: price,\n    onChange: function onChange(e) {\n      return setPrice(e.target.value);\n    }\n  }))), __jsx(_Col, {\n    lg: 12\n  }, __jsx(_Form.Item, {\n    label: \"Select Currency\"\n  }, __jsx(_Select, {\n    value: pricecurrency,\n    onChange: function onChange(e) {\n      return setCurrency(e);\n    }\n  }, currencylist && currencylist.length !== 0 ? currencylist.map(function (item, index) {\n    return __jsx(_Select.Option, {\n      value: item.currencyCode,\n      key: item.currencyCode\n    }, item.currencyCode);\n  }) : \"No Records Found\")))), __jsx(_Row, null, __jsx(_Col, {\n    lg: 12\n  }, __jsx(_Form.Item, {\n    label: \"Land Area\"\n  }, __jsx(_Input, {\n    value: localArea,\n    onChange: function onChange(e) {\n      return setLocalArea(e.target.value);\n    }\n  }))), __jsx(_Col, {\n    lg: 12\n  }, __jsx(_Form.Item, {\n    label: \"Area Unit\"\n  }, __jsx(_Select, {\n    value: areaUnit,\n    onChange: function onChange(e) {\n      return setareaUnit(e);\n    }\n  }, arealist && arealist.length !== 0 ? arealist.map(function (item, index) {\n    return __jsx(_Select.Option, {\n      value: item.areaUnitCode,\n      key: item.areaUnitCode\n    }, item.areaUnitName);\n  }) : \"No Records Found\")))), __jsx(_Alert, {\n    message: \"Add Images\",\n    type: \"success\"\n  }), __jsx(\"input\", {\n    type: \"file\",\n    multiple: true,\n    onChange: handleimage\n  })), __jsx(_Alert, {\n    message: \"CONTACT DETAILS\",\n    type: \"success\"\n  }), __jsx(_Form, {\n    labelCol: {\n      span: 4\n    },\n    wrapperCol: {\n      span: 14\n    },\n    layout: \"horizontal\",\n    style: {\n      marginTop: \"20px\"\n    }\n  }), __jsx(_Form, {\n    labelCol: {\n      span: 4\n    },\n    wrapperCol: {\n      span: 14\n    },\n    layout: \"horizontal\",\n    style: {\n      marginTop: \"20px\"\n    }\n  }, __jsx(_Form.Item, {\n    label: \"Phone \"\n  }, __jsx(_Input, {\n    value: phone,\n    onChange: function onChange(e) {\n      return setPhone(e.target.value);\n    }\n  })), __jsx(_Form.Item, {\n    label: \"Email\"\n  }, __jsx(_Input, {\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    }\n  })), __jsx(\"center\", null, __jsx(_Button, {\n    type: \"primary\",\n    size: \"large\",\n    onClick: submitHandler\n  }, \"Submit Property\"))));\n};\n\nexport default AddProperty;","map":null,"metadata":{},"sourceType":"module"}