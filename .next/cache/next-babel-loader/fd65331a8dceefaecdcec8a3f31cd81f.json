{"ast":null,"code":"import _Drawer from \"antd/lib/drawer\";\nimport _Slider from \"antd/lib/slider\";\nimport _Checkbox from \"antd/lib/checkbox\";\nimport _Button from \"antd/lib/button\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\wamp64\\\\www\\\\Reactapps\\\\my-app\\\\Apnaghar-frontend\\\\TripFinder\\\\packages\\\\hotel-next\\\\container\\\\Listing\\\\Search\\\\MobileSearchView.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext, useReducer } from 'react';\nimport moment from 'moment';\nimport { createBrowserHistory } from 'history';\nimport Heading from 'components/UI/Heading/Heading';\nimport InputIncDec from 'components/UI/InputIncDec/InputIncDec';\nimport DateRangePicker from 'components/UI/DatePicker/ReactDates';\nimport { setStateToUrl } from 'library/helpers/url_handler';\nimport { SearchContext } from 'context/SearchProvider';\nimport { IoIosArrowDown } from 'react-icons/io';\nimport { Accordion, AccordionItem, AccordionItemHeading, AccordionItemButton, AccordionItemPanel } from 'react-accessible-accordion';\nimport { priceInit, calenderItem, getAmenities, getPropertyType } from './SearchParams';\nimport { FilterArea, FilterElementsWrapper, ButtonGroup, RoomGuestWrapper, ItemWrapper } from './MobileSearchView.style';\nvar history = true ? createBrowserHistory() : false;\nvar location = true && window.location;\n\nfunction serchReducer(state, action) {\n  switch (action.type) {\n    case 'amenities':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        amenities: action.payload\n      });\n\n    case 'property':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        property: action.payload\n      });\n\n    case 'date_range':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        setStartDate: action.payload.setStartDate,\n        setEndDate: action.payload.setEndDate\n      });\n\n    case 'price':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        minPrice: action.payload.minPrice,\n        maxPrice: action.payload.maxPrice\n      });\n\n    case 'room':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        room: action.payload.room\n      });\n\n    case 'guest':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        guest: action.payload.guest\n      });\n\n    case 'reset':\n      return _objectSpread(_objectSpread({}, state), action.payload);\n\n    default:\n      return state;\n  }\n}\n\nvar FilterDrawer = function FilterDrawer(props) {\n  _s();\n\n  var _useContext = useContext(SearchContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var initialState = {\n    amenities: state.amenities || [],\n    property: state.property || [],\n    setStartDate: state.setStartDate || null,\n    setEndDate: state.setEndDate || null,\n    minPrice: parseInt(state.minPrice) || 0,\n    maxPrice: parseInt(state.maxPrice) || 100,\n    location_lat: state.location_lat || null,\n    location_lng: state.location_lng || null,\n    room: parseInt(state.room) || 0,\n    guest: parseInt(state.guest) || 0\n  };\n\n  var _useReducer = useReducer(serchReducer, initialState),\n      current = _useReducer[0],\n      dispatchCurrent = _useReducer[1]; // state for drawer\n\n\n  var _useState = useState(false),\n      toggle = _useState[0],\n      setToggle = _useState[1]; // Room guest state\n\n\n  var _useState2 = useState(current.room),\n      countRoom = _useState2[0],\n      setRoom = _useState2[1];\n\n  var _useState3 = useState(current.guest),\n      countGuest = _useState3[0],\n      setGuest = _useState3[1]; // Toggle Drawer\n\n\n  var handleToggleDrawer = function handleToggleDrawer() {\n    setToggle(!toggle);\n  }; // data handling\n\n\n  var _onChange = function onChange(value, type) {\n    var query = {};\n    var modifiedCurrent = current;\n\n    for (var key in modifiedCurrent) {\n      if (modifiedCurrent.hasOwnProperty(key)) {\n        switch (key) {\n          case 'date_range':\n            delete modifiedCurrent.date_range;\n            break;\n\n          case 'price':\n            delete modifiedCurrent.price;\n            break;\n        }\n      }\n    }\n\n    if (type === 'date_range') {\n      query = _objectSpread(_objectSpread({}, current), {}, {\n        setStartDate: value.setStartDate,\n        setEndDate: value.setEndDate\n      });\n      dispatchCurrent({\n        type: type,\n        payload: value\n      });\n    } else if (type === 'price') {\n      query = _objectSpread(_objectSpread({}, current), {}, {\n        minPrice: value ? value[0] : 0,\n        maxPrice: value ? value[1] : 100\n      });\n      dispatchCurrent({\n        type: type,\n        payload: query\n      });\n    } else if (type === 'room') {\n      query = _objectSpread(_objectSpread({}, current), {}, {\n        room: value ? value : 0\n      });\n      dispatchCurrent({\n        type: type,\n        payload: query\n      });\n    } else if (type === 'guest') {\n      query = _objectSpread(_objectSpread({}, current), {}, {\n        guest: value ? value : 0\n      });\n      dispatchCurrent({\n        type: type,\n        payload: query\n      });\n    } else if (type === 'reset') {\n      setRoom(0);\n      setGuest(0);\n      query = _objectSpread(_objectSpread({}, current), {}, {\n        setStartDate: null,\n        setEndDate: null,\n        room: 0,\n        guest: 0,\n        amenities: [],\n        property: [],\n        minPrice: 0,\n        maxPrice: 100,\n        location_lat: null,\n        location_lng: null\n      });\n      dispatchCurrent({\n        type: type,\n        payload: query\n      });\n    } else {\n      query = _objectSpread(_objectSpread({}, current), {}, {\n        [type]: value\n      });\n      dispatchCurrent({\n        type: type,\n        payload: value\n      });\n    }\n  };\n\n  var handleApplyFilter = function handleApplyFilter() {\n    var params = setStateToUrl(current);\n    dispatch({\n      type: 'UPDATE',\n      payload: _objectSpread({}, current)\n    });\n    history.push(_objectSpread(_objectSpread({}, location), {}, {\n      search: params\n    }));\n    setToggle(false);\n  };\n\n  var handleCloseDrawer = function handleCloseDrawer() {\n    setRoom(0);\n    var query = {\n      setStartDate: null,\n      setEndDate: null,\n      room: 0,\n      guest: 0,\n      amenities: [],\n      property: [],\n      minPrice: 0,\n      maxPrice: 100,\n      location_lat: null,\n      location_lng: null\n    };\n    dispatchCurrent({\n      type: 'reset',\n      payload: query\n    });\n    dispatch({\n      type: 'UPDATE',\n      payload: _objectSpread(_objectSpread({}, current), query)\n    });\n    var params = setStateToUrl(query);\n    history.push(_objectSpread(_objectSpread({}, location), {}, {\n      search: params\n    }));\n    setToggle(false);\n  };\n\n  return __jsx(FilterArea, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 5\n    }\n  }, __jsx(_Button, {\n    className: toggle ? 'active' : '',\n    onClick: handleToggleDrawer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }\n  }, \"More filters\"), __jsx(_Drawer, {\n    className: \"filter_drawer\",\n    height: \"100vh\",\n    placement: \"bottom\",\n    closable: false,\n    maskClosable: false,\n    onClose: handleCloseDrawer,\n    visible: toggle,\n    maskStyle: {\n      backgroundColor: 'transparent'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }, __jsx(FilterElementsWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, __jsx(Accordion, {\n    allowZeroExpanded: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, __jsx(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, __jsx(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, __jsx(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }, __jsx(Heading, {\n    as: \"h4\",\n    content: \"Amenities\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }), __jsx(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  }))), __jsx(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }, __jsx(_Checkbox.Group, {\n    options: getAmenities.options,\n    value: current.amenities,\n    onChange: function onChange(value) {\n      return _onChange(value, 'amenities');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 17\n    }\n  }))), __jsx(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, __jsx(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, __jsx(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, __jsx(Heading, {\n    as: \"h4\",\n    content: \"Property Type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }), __jsx(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 19\n    }\n  }))), __jsx(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 15\n    }\n  }, __jsx(_Checkbox.Group, {\n    options: getPropertyType.options,\n    value: current.property,\n    onChange: function onChange(value) {\n      return _onChange(value, 'property');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }))), __jsx(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }, __jsx(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 15\n    }\n  }, __jsx(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, __jsx(Heading, {\n    as: \"h4\",\n    content: \"Select Price Range\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 19\n    }\n  }), __jsx(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 19\n    }\n  }))), __jsx(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }, __jsx(_Slider, {\n    range: true,\n    marks: priceInit,\n    min: 0,\n    max: 100,\n    defaultValue: [current.minPrice, current.maxPrice],\n    onAfterChange: function onAfterChange(value) {\n      return _onChange(value, 'price');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }))), __jsx(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, __jsx(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, __jsx(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  }, __jsx(Heading, {\n    as: \"h4\",\n    content: \"Choose Date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 19\n    }\n  }), __jsx(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 19\n    }\n  }))), __jsx(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }\n  }, __jsx(DateRangePicker, {\n    startDateId: \"startDate-id-mobile\",\n    endDateId: \"endDate-id-mobile\",\n    startDate: current.setStartDate ? moment(current.setStartDate) : null,\n    endDate: current.setEndDate ? moment(current.setEndDate) : null,\n    numberOfMonths: 1,\n    small: true,\n    item: calenderItem,\n    updateSearchData: function updateSearchData(value) {\n      return _onChange(value, 'date_range');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 17\n    }\n  }))), __jsx(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }\n  }, __jsx(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }, __jsx(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 17\n    }\n  }, __jsx(Heading, {\n    as: \"h4\",\n    content: \"Choose Room and Guest\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 19\n    }\n  }), __jsx(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 19\n    }\n  }))), __jsx(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 15\n    }\n  }, __jsx(RoomGuestWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 17\n    }\n  }, __jsx(ItemWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 19\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 21\n    }\n  }, \"Room\"), __jsx(InputIncDec, {\n    id: \"room\",\n    increment: function increment() {\n      setRoom(function (countRoom) {\n        return countRoom + 1;\n      });\n\n      _onChange(countRoom + 1, 'room');\n    },\n    decrement: function decrement() {\n      setRoom(function (countRoom) {\n        return countRoom > 0 && countRoom - 1;\n      });\n\n      _onChange(function (countRoom) {\n        return countRoom > 0 && countRoom - 1;\n      }, 'room');\n    },\n    value: countRoom,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 21\n    }\n  })), __jsx(ItemWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 19\n    }\n  }, __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 21\n    }\n  }, \"Guest\"), __jsx(InputIncDec, {\n    id: \"guest\",\n    increment: function increment() {\n      setGuest(function (countGuest) {\n        return countGuest + 1;\n      });\n\n      _onChange(countGuest + 1, 'guest');\n    },\n    decrement: function decrement() {\n      setGuest(function (countGuest) {\n        return countGuest > 0 && countGuest - 1;\n      });\n\n      _onChange(function (countGuest) {\n        return countGuest > 0 && countGuest - 1;\n      }, 'guest');\n    },\n    value: countGuest,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 21\n    }\n  })))))), __jsx(ButtonGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 11\n    }\n  }, __jsx(_Button, {\n    onClick: handleCloseDrawer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }\n  }, \"Cancel Filter\"), __jsx(_Button, {\n    type: \"primary\",\n    onClick: handleApplyFilter,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }, \"Apply Filter\")))));\n};\n\n_s(FilterDrawer, \"J2UmR5C+mbxzsBQhCs63hPYxovg=\");\n\n_c = FilterDrawer;\nexport default FilterDrawer;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterDrawer\");","map":{"version":3,"sources":["C:/wamp64/www/Reactapps/my-app/Apnaghar-frontend/TripFinder/packages/hotel-next/container/Listing/Search/MobileSearchView.js"],"names":["React","useState","useContext","useReducer","moment","createBrowserHistory","Heading","InputIncDec","DateRangePicker","setStateToUrl","SearchContext","IoIosArrowDown","Accordion","AccordionItem","AccordionItemHeading","AccordionItemButton","AccordionItemPanel","priceInit","calenderItem","getAmenities","getPropertyType","FilterArea","FilterElementsWrapper","ButtonGroup","RoomGuestWrapper","ItemWrapper","history","location","window","serchReducer","state","action","type","amenities","payload","property","setStartDate","setEndDate","minPrice","maxPrice","room","guest","FilterDrawer","props","dispatch","initialState","parseInt","location_lat","location_lng","current","dispatchCurrent","toggle","setToggle","countRoom","setRoom","countGuest","setGuest","handleToggleDrawer","onChange","value","query","modifiedCurrent","key","hasOwnProperty","date_range","price","handleApplyFilter","params","push","search","handleCloseDrawer","backgroundColor","options"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useReducer } from 'react';\r\nimport moment from 'moment';\r\nimport { createBrowserHistory } from 'history';\r\nimport Heading from 'components/UI/Heading/Heading';\r\nimport { Slider, Drawer, Button, Checkbox } from 'antd';\r\nimport InputIncDec from 'components/UI/InputIncDec/InputIncDec';\r\nimport DateRangePicker from 'components/UI/DatePicker/ReactDates';\r\nimport { setStateToUrl } from 'library/helpers/url_handler';\r\nimport { SearchContext } from 'context/SearchProvider';\r\nimport { IoIosArrowDown } from 'react-icons/io';\r\nimport {\r\n  Accordion,\r\n  AccordionItem,\r\n  AccordionItemHeading,\r\n  AccordionItemButton,\r\n  AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\n\r\nimport {\r\n  priceInit,\r\n  calenderItem,\r\n  getAmenities,\r\n  getPropertyType,\r\n} from './SearchParams';\r\nimport {\r\n  FilterArea,\r\n  FilterElementsWrapper,\r\n  ButtonGroup,\r\n  RoomGuestWrapper,\r\n  ItemWrapper,\r\n} from './MobileSearchView.style';\r\n\r\nconst history = process.browser ? createBrowserHistory() : false;\r\nconst location = process.browser && window.location;\r\n\r\nfunction serchReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'amenities':\r\n      return { ...state, amenities: action.payload };\r\n    case 'property':\r\n      return { ...state, property: action.payload };\r\n    case 'date_range':\r\n      return {\r\n        ...state,\r\n        setStartDate: action.payload.setStartDate,\r\n        setEndDate: action.payload.setEndDate,\r\n      };\r\n    case 'price':\r\n      return {\r\n        ...state,\r\n        minPrice: action.payload.minPrice,\r\n        maxPrice: action.payload.maxPrice,\r\n      };\r\n    case 'room':\r\n      return {\r\n        ...state,\r\n        room: action.payload.room,\r\n      };\r\n    case 'guest':\r\n      return {\r\n        ...state,\r\n        guest: action.payload.guest,\r\n      };\r\n    case 'reset':\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst FilterDrawer = (props) => {\r\n  const { state, dispatch } = useContext(SearchContext);\r\n  const initialState = {\r\n    amenities: state.amenities || [],\r\n    property: state.property || [],\r\n    setStartDate: state.setStartDate || null,\r\n    setEndDate: state.setEndDate || null,\r\n    minPrice: parseInt(state.minPrice) || 0,\r\n    maxPrice: parseInt(state.maxPrice) || 100,\r\n    location_lat: state.location_lat || null,\r\n    location_lng: state.location_lng || null,\r\n    room: parseInt(state.room) || 0,\r\n    guest: parseInt(state.guest) || 0,\r\n  };\r\n  const [current, dispatchCurrent] = useReducer(serchReducer, initialState);\r\n  // state for drawer\r\n  const [toggle, setToggle] = useState(false);\r\n  // Room guest state\r\n  const [countRoom, setRoom] = useState(current.room);\r\n  const [countGuest, setGuest] = useState(current.guest);\r\n\r\n  // Toggle Drawer\r\n  const handleToggleDrawer = () => {\r\n    setToggle(!toggle);\r\n  };\r\n\r\n  // data handling\r\n  const onChange = (value, type) => {\r\n    let query = {};\r\n    let modifiedCurrent = current;\r\n\r\n    for (const key in modifiedCurrent) {\r\n      if (modifiedCurrent.hasOwnProperty(key)) {\r\n        switch (key) {\r\n          case 'date_range':\r\n            delete modifiedCurrent.date_range;\r\n            break;\r\n          case 'price':\r\n            delete modifiedCurrent.price;\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (type === 'date_range') {\r\n      query = {\r\n        ...current,\r\n        setStartDate: value.setStartDate,\r\n        setEndDate: value.setEndDate,\r\n      };\r\n      dispatchCurrent({ type: type, payload: value });\r\n    } else if (type === 'price') {\r\n      query = {\r\n        ...current,\r\n        minPrice: value ? value[0] : 0,\r\n        maxPrice: value ? value[1] : 100,\r\n      };\r\n      dispatchCurrent({ type: type, payload: query });\r\n    } else if (type === 'room') {\r\n      query = {\r\n        ...current,\r\n        room: value ? value : 0,\r\n      };\r\n      dispatchCurrent({ type: type, payload: query });\r\n    } else if (type === 'guest') {\r\n      query = {\r\n        ...current,\r\n        guest: value ? value : 0,\r\n      };\r\n      dispatchCurrent({ type: type, payload: query });\r\n    } else if (type === 'reset') {\r\n      setRoom(0);\r\n      setGuest(0);\r\n      query = {\r\n        ...current,\r\n        setStartDate: null,\r\n        setEndDate: null,\r\n        room: 0,\r\n        guest: 0,\r\n        amenities: [],\r\n        property: [],\r\n        minPrice: 0,\r\n        maxPrice: 100,\r\n        location_lat: null,\r\n        location_lng: null,\r\n      };\r\n      dispatchCurrent({ type: type, payload: query });\r\n    } else {\r\n      query = {\r\n        ...current,\r\n        [type]: value,\r\n      };\r\n      dispatchCurrent({ type: type, payload: value });\r\n    }\r\n  };\r\n\r\n  const handleApplyFilter = () => {\r\n    const params = setStateToUrl(current);\r\n    dispatch({\r\n      type: 'UPDATE',\r\n      payload: {\r\n        ...current,\r\n      },\r\n    });\r\n    history.push({\r\n      ...location,\r\n      search: params,\r\n    });\r\n    setToggle(false);\r\n  };\r\n\r\n  const handleCloseDrawer = () => {\r\n    setRoom(0);\r\n    const query = {\r\n      setStartDate: null,\r\n      setEndDate: null,\r\n      room: 0,\r\n      guest: 0,\r\n      amenities: [],\r\n      property: [],\r\n      minPrice: 0,\r\n      maxPrice: 100,\r\n      location_lat: null,\r\n      location_lng: null,\r\n    };\r\n    dispatchCurrent({ type: 'reset', payload: query });\r\n    dispatch({\r\n      type: 'UPDATE',\r\n      payload: {\r\n        ...current,\r\n        ...query,\r\n      },\r\n    });\r\n    const params = setStateToUrl(query);\r\n    history.push({\r\n      ...location,\r\n      search: params,\r\n    });\r\n    setToggle(false);\r\n  };\r\n\r\n  return (\r\n    <FilterArea>\r\n      <Button className={toggle ? 'active' : ''} onClick={handleToggleDrawer}>\r\n        More filters\r\n      </Button>\r\n      <Drawer\r\n        className=\"filter_drawer\"\r\n        height=\"100vh\"\r\n        placement=\"bottom\"\r\n        closable={false}\r\n        maskClosable={false}\r\n        onClose={handleCloseDrawer}\r\n        visible={toggle}\r\n        maskStyle={{ backgroundColor: 'transparent' }}\r\n      >\r\n        <FilterElementsWrapper>\r\n          <Accordion allowZeroExpanded={true}>\r\n            {/* Start amenities filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Amenities\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <Checkbox.Group\r\n                  options={getAmenities.options}\r\n                  value={current.amenities}\r\n                  onChange={(value) => onChange(value, 'amenities')}\r\n                />\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of amenities filter element */}\r\n\r\n            {/* Start property type filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Property Type\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <Checkbox.Group\r\n                  options={getPropertyType.options}\r\n                  value={current.property}\r\n                  onChange={(value) => onChange(value, 'property')}\r\n                />\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of property type filter element */}\r\n\r\n            {/* Start price range filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Select Price Range\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <Slider\r\n                  range\r\n                  marks={priceInit}\r\n                  min={0}\r\n                  max={100}\r\n                  defaultValue={[current.minPrice, current.maxPrice]}\r\n                  onAfterChange={(value) => onChange(value, 'price')}\r\n                />\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of price range filter element */}\r\n\r\n            {/* Start date filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Choose Date\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <DateRangePicker\r\n                  startDateId=\"startDate-id-mobile\"\r\n                  endDateId=\"endDate-id-mobile\"\r\n                  startDate={\r\n                    current.setStartDate ? moment(current.setStartDate) : null\r\n                  }\r\n                  endDate={\r\n                    current.setEndDate ? moment(current.setEndDate) : null\r\n                  }\r\n                  numberOfMonths={1}\r\n                  small={true}\r\n                  item={calenderItem}\r\n                  updateSearchData={(value) => onChange(value, 'date_range')}\r\n                />\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of date filter element */}\r\n\r\n            {/* Room & Guest type filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Choose Room and Guest\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <RoomGuestWrapper>\r\n                  <ItemWrapper>\r\n                    <strong>Room</strong>\r\n                    <InputIncDec\r\n                      id=\"room\"\r\n                      increment={() => {\r\n                        setRoom((countRoom) => countRoom + 1);\r\n                        onChange(countRoom + 1, 'room');\r\n                      }}\r\n                      decrement={() => {\r\n                        setRoom((countRoom) => countRoom > 0 && countRoom - 1);\r\n                        onChange(\r\n                          (countRoom) => countRoom > 0 && countRoom - 1,\r\n                          'room'\r\n                        );\r\n                      }}\r\n                      value={countRoom}\r\n                    />\r\n                  </ItemWrapper>\r\n\r\n                  <ItemWrapper>\r\n                    <strong>Guest</strong>\r\n                    <InputIncDec\r\n                      id=\"guest\"\r\n                      increment={() => {\r\n                        setGuest((countGuest) => countGuest + 1);\r\n                        onChange(countGuest + 1, 'guest');\r\n                      }}\r\n                      decrement={() => {\r\n                        setGuest(\r\n                          (countGuest) => countGuest > 0 && countGuest - 1\r\n                        );\r\n                        onChange(\r\n                          (countGuest) => countGuest > 0 && countGuest - 1,\r\n                          'guest'\r\n                        );\r\n                      }}\r\n                      value={countGuest}\r\n                    />\r\n                  </ItemWrapper>\r\n                </RoomGuestWrapper>\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of Room & Guest type filter element */}\r\n          </Accordion>\r\n\r\n          <ButtonGroup>\r\n            <Button onClick={handleCloseDrawer}>Cancel Filter</Button>\r\n            <Button type=\"primary\" onClick={handleApplyFilter}>\r\n              Apply Filter\r\n            </Button>\r\n          </ButtonGroup>\r\n        </FilterElementsWrapper>\r\n      </Drawer>\r\n    </FilterArea>\r\n  );\r\n};\r\n\r\nexport default FilterDrawer;\r\n"]},"metadata":{},"sourceType":"module"}